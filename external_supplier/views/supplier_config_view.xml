<?xml version="1.0" encoding="utf-8"?>
<!--######################################################################################################-->
<!--#-->
<!--# Copyright Â© B.H.C. sprl - All Rights Reserved, http://www.bhc.be-->
<!--#-->
<!--# Unauthorized copying of this file, via any medium is strictly prohibited-->
<!--# Proprietary and confidential-->
<!--# This code is subject to the BHC License Agreement-->
<!--# Please see the License.txt file for more information-->
<!--# All other rights reserved-->
<!--#-->
<!--# Unless required by applicable law or agreed to in writing, software-->
<!--# distributed under the License is distributed on an "AS IS" BASIS,-->
<!--# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied,-->
<!--# including but not limited to the implied warranties-->
<!--# of merchantability and/or fitness for a particular purpose-->
<!--######################################################################################################-->
<odoo>
    <data>
        <record model="ir.ui.view" id="supplier_tree_view_config">
            <field name="name">supplier.tree.config</field>
            <field name="model">external.supplier</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="supplier_type"/>
                    <field name="supplier_id"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="supplier_form_view_config">
            <field name="name">supplier.form.config</field>
            <field name="model">external.supplier</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form>
                    <header class="oe_read_only">
                        <button name="action_download_products_file" type="object" string="Download product file"/>
                        <button name="action_sync_demo_products" type="object" string="Synchronize demo products"/>
                        <button name="action_sync_products" type="object" string="Synchronize all products"/>
                        <!--                        <button name="clean_data" type="object" string="Clean Data"-->
                        <!--                                help="Set to inactive the product where the last synchro date from more than a week"/>-->
                        <!--                        <button name="delete_data" type="object" string="Delete Data" confirm="Are you sure?"-->
                        <!--                                help="Set to inactive all the Supplier product"/>-->
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <field name="synced_category_ids" invisible="1"/>
                            <field name="synced_product_ids" invisible="1"/>
                            <button name="action_view_synced_categories" type="object"
                                    class="oe_stat_button" icon="fa-sitemap">
                                <field name="synced_categories_amount" widget="statinfo" string="categories"/>
                            </button>
                            <button name="action_view_synced_products" type="object"
                                    class="oe_stat_button" icon="fa-shopping-cart">
                                <field name="synced_products_amount" widget="statinfo" string="products"/>
                            </button>
                        </div>
                        <div class="oe_title" attrs="{'invisible':[('supplier_type','=',False)]}">
                            <h1><field name="name"/></h1>
                        </div>
                        <group>
                            <group>
                                <field name="supplier_type"/>
                                <field name="last_product_file_download_date" attrs="{'invisible':[('supplier_type','=',False)]}"/>
                                <field name="last_sync_date" attrs="{'invisible':[('supplier_type','=',False)]}"/>
                            </group>
                            <group attrs="{'invisible':[('supplier_type','=',False)]}">
                                <field name="supplier_id"/>
                            </group>
                        </group>
                        <notebook>
                            <page name="product_sync" string="Product synchronization" attrs="{'invisible':[('supplier_type','=',False)]}">
                                <group name="first_row">
                                    <group name="ftp_server" string="FTP Server">
                                        <field name="ftp_server_login" string="Login"/>
                                        <field name="ftp_server_password" string="Password" password="True"/>
                                        <field name="ftp_server_url" string="URL"/>
                                        <field name="ftp_server_path" string="Path"/>
                                        <field name="products_filename"/>
                                        <button name="action_check_ftp" string="Test connection" type="object"/>
                                    </group>
                                    <group name="products" string="Products">
                                        <field name="auto_sync_product" string="Sync automatically"/>
                                        <field name="local_files_directory_path"/>
                                        <field name="default_category_id"/>
                                    </group>
                                </group>
                                <group name="csv_file_format" string="CSV File formatting">
                                    <group>
                                        <field name="csv_file_encoding" string="File encoding"/>
                                        <field name="csv_file_delimiter" string="Column delimiter"/>
                                    </group>
                                    <group>
                                        <field name="csv_file_quotechar" string="Quote character"/>
                                    </group>
                                </group>
                                <group name="csv_file_headers" string="CSV File headers">
                                    <group>
                                        <field name="product_code_csv_header" string="Product code"/>
                                        <field name="eanupc_csv_header" string="EANUPC Code"/>
                                        <field name="manufacturer_csv_header" string="Product manufacturer"/>
                                        <field name="weight_csv_header" string="Product weight"/>
                                    </group>
                                    <group>
                                        <field name="product_cost_csv_header" string="Product buy price"/>
                                        <field name="product_price_csv_header" string="Product public price"/>
                                        <field name="product_name_csv_header" string="Product name"/>
                                        <field name="product_description_csv_header" string="Product description"/>
                                        <field name="category_id_csv_header" string="Product category id"/>
                                    </group>
                                </group>
                            </page>
                            <page name="order_transactions" string="Order transactions" attrs="{'invisible':[('supplier_type','=',False)]}">
                                <group string="XML Server">
                                    <field name="xml_server_login" string="Login"/>
                                    <field name="xml_server_password" string="Password" password="True"/>
                                    <field name="xml_server_url" string="URL"/>
                                    <button name="action_check_xml" string="Test connection" type="object"/>
                                </group>
                            </page >
                            <page name="advance" string="Advanced" attrs="{'invisible':[('supplier_type','=',False)]}">
                                <group>
                                    <group string="Sale Taxes">
                                        <field name="sales_taxes" nolabel="1"/>
                                    </group>
                                    <group string="Purchase Taxes">
                                        <field name="purchase_taxes" nolabel="1"/>
                                    </group>
                                </group>
                                <group string="Multithreading">
                                    <button name="action_check_number_thread" type="object"
                                            string="Check Number Thread"/>
                                    <field name="thread_amount"/>
                                </group>
                            </page >
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" groups="base.group_user"/>
                        <field name="activity_ids"/>
                        <field name="message_ids" />
                    </div>
                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_supplier_form_config_bhc">
            <field name="name">Supplier</field>
            <field name="res_model">external.supplier</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem name="External Supplier" id="external_supplier_menu"
                  action="action_supplier_form_config_bhc" sequence="137" groups="group_external_supplier"
                  web_icon="external_supplier,static/description/icon.png"/>
    </data>
</odoo>
